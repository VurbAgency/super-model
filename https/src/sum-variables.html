<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="shared-styles.html">

<dom-module id="sum-variables">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }

      main {
        display: flex;
        flex-direction: row;

        flex-wrap: wrap;
      }

      main>* {
        flex-basis: 20rem;
        flex-grow: 1;
      }

      h2 {
        font-size: 1em;
        text-transform: uppercase;
        color: var(--primary-color);
      }

      div.number h4 {
        font-size: 0.75em;
      }

    </style>


    <main>

      <div class="card">
        <h2>Pricing</h2>

        <paper-radio-group selected="subscription">
          <paper-radio-button name="product" disabled>A one time purchase</paper-radio-button>
          <paper-radio-button name="subscription">A monthly subscription</paper-radio-button>
        </paper-radio-group>

        <div class="tiers">
          <div class="group">
            <h3>Tier 1</h3>
            <paper-input value="{{data.pricePerMonthT1}}" type="number" label="Price per month">
              <span slot="prefix">§</span>
            </paper-input>
            <paper-input value="{{data.pricePercentT1}}" type="number" label="Percentage out of total">
              <span slot="suffix">%</span>
            </paper-input>
          </div>
          <div class="group">
            <h3>Tier 2</h3>
            <paper-input value="{{data.pricePerMonthT2}}" type="number" label="Price per month">
              <span slot="prefix">§</span>
            </paper-input>
            <paper-input value="{{data.pricePercentT2}}" type="number" label="Percentage out of total">
              <span slot="suffix">%</span>
            </paper-input>
          </div>
          <div class="group">
            <h3>Tier 3</h3>
            <paper-input value="{{data.pricePerMonthT3}}" type="number" label="Price per month">
              <span slot="prefix">§</span>
            </paper-input>
            <paper-input value="{{data.pricePercentT3}}" type="number" label="Percentage out of total">
              <span slot="suffix">%</span>
            </paper-input>
          </div>
        </div>

      </div>

      <div class="card">
        <h2>Growing & Retaining</h2>
        <paper-input value="{{data.netNewCustomersStart}}" type="number" label="1st Month">
          <span slot="suffix">Customers</span>
        </paper-input>
        <paper-input value="{{data.growthRate}}" type="number" label="Monthly growth">
          <span slot="suffix">%/month</span>
        </paper-input>
        <paper-input value="{{data.retentionRateSixMonths}}" type="number" label="Retention rate at 6 months">
          <span slot="suffix">%</span>
        </paper-input>
      </div>

      <div class="card">
        <h2>Cost Of Goods Sold</h2>

        <div class="cats">

          <div class="group">
            <h3>Support</h3>
            <paper-input value="{{data.staffServiceHumans}}" type="number" label="Employees">
              <span slot="suffix">people</span>
            </paper-input>
            <paper-input value="{{data.staffServiceHumansPrice}}" type="number" label="Wages">
              <span slot="prefix">§</span>
              <span slot="suffix">/year</span>
            </paper-input>
          </div>

          <div class="group">
            <h3>Techies</h3>
            <paper-input value="{{data.staffInfrastructureHumans}}" type="number" label="Employees">
              <span slot="suffix">people</span>
            </paper-input>
            <paper-input value="{{data.staffInfrastructureHumanPrice}}" type="number" label="Wages">
              <span slot="prefix">§</span>
              <span slot="suffix">/year</span>
            </paper-input>
          </div>

          <div class="group">
            <h3>Other service staff</h3>
            <paper-input value="{{data.staffDeliveryOtherHumans}}" type="number" label="Employees">
              <span slot="suffix">people</span>
            </paper-input>
            <paper-input value="{{data.staffDeliveryOtherHumanPrice}}" type="number" label="Wages">
              <span slot="prefix">§</span>
              <span slot="suffix">/year</span>
            </paper-input>
          </div>

          <div class="group">
            <h3>Tech</h3>
            <paper-input value="{{data.costInitialTech}}" type="number" label="Tech costs">
              <span slot="prefix">§</span>
            </paper-input>
            <paper-input value="{{data.costMonthlyTech}}" type="number" label="Software">
              <span slot="prefix">§</span>
              <span slot="suffix">/month</span>
            </paper-input>
          </div>

        </div>

      </div>

      <div class="card">
        <h2>Operating Budget</h2>

        <div class="cats">
          <div class="group">
            <h3>Product employees</h3>
            <paper-input value="{{data.staffProductHumans}}" type="number" label="Employees">
              <span slot="suffix">people</span>
            </paper-input>
            <paper-input value="{{data.staffProductHumanPrice}}" type="number" label="Wages">
              <span slot="prefix">§</span>
              <span slot="suffix">/year</span>
            </paper-input>

          </div>
          <div class="group">
            <h3>Customer Success</h3>
            <paper-input value="{{data.staffSuccessHumans}}" type="number" label="Employees">
              <span slot="suffix">people</span>
            </paper-input>
            <paper-input value="{{data.staffSuccessHumanPrice}}" type="number" label="Wages">
              <span slot="prefix">§</span>
              <span slot="suffix">/year</span>
            </paper-input>

          </div>
          <div class="group">
            <h3>Costs</h3>
            <paper-input value="{{data.costOfficePerHuman}}" type="number" label="Office space">
              <span slot="prefix">§</span>
              <span slot="suffix">/person</span>
            </paper-input>
            <paper-input value="{{data.costSupplies}}" type="number" label="Supplies">
              <span slot="prefix">§</span>
            </paper-input>
            <paper-input value="{{data.costSoftware}}" type="number" label="Software">
              <span slot="prefix">§</span>
            </paper-input>
          </div>

        </div>
      </div>


    </main>


  </template>

  <script>
    /**
     * `sum-variables` Description
     *
     * @summary ShortDescription.
     * @customElement
     * @polymer
     * @extends {Polymer.Element}
     */
    class SumVariables extends Polymer.Element {
      /**
       * String providing the tag name to register the element under.
       */
      static get is() {
        return 'sum-variables';
      }

      /**
       * Object describing property-related metadata used by Polymer features
       */
      static get properties() {
        return {
          data: Object
        };
      }

      /**
       * Instance of the element is created/upgraded. Use: initializing state,
       * set up event listeners, create shadow dom.
       * @constructor
       */
      constructor() {
        super();
      }

      /**
       * Use for one-time configuration of your component after local DOM is initialized. 
       */
      ready() {
        super.ready();

        Polymer.RenderStatus.afterNextRender(this, function () {

        });
      }

      printJson(data) {
        return JSON.stringify(data, null, 2)
      }

    }

    window.customElements.define(SumVariables.is, SumVariables);
  </script>
</dom-module>
